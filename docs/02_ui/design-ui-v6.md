# Web UI è¨­è¨ˆ

## å®Œæ•´ç‰ˆå·¥ä½œå€é é¢

```
â”Œâ”€â”€â”€â”€â”€â”€â”€ Explorer (280px) â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€ Chat (å½ˆæ€§) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€ Preview (360px) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ                                â”‚ â”‚                                 â”‚ â”‚                                  â”‚
â”‚                                 â”‚ â”‚ ğŸ  Home > ğŸ‘¥ Workspace          â”‚ â”‚ ğŸ  Home > ğŸ‘¥ Workspace           â”‚
â”‚ â–¼ workspace                     â”‚ â”‚ > t21-hello_world > s0-planning â”‚ â”‚ > t21-hello_world > s1-implement â”‚
â”‚   â–¼ t21-hello_world ğŸƒ â‹®        â”‚ â”‚                                 â”‚ â”‚                                  â”‚
â”‚     [+ æ–°èŠå¤©]                   â”‚ â”‚ t21-hello_world >               â”‚ â”‚ t21-hello_world >                â”‚
â”‚     â–¼ s0-planning âœ“ â‹®           â”‚ â”‚   s0-planning >                 â”‚ â”‚   s1-implementation >            â”‚
â”‚       [+ æ–°èŠå¤©]                 â”‚ â”‚     c01-20240121_153000.chat.js â”‚ â”‚     navbar.v1.py                â”‚
â”‚       ğŸ’¬ c01-20240121_153000.. â‹® â”‚ â”‚                                 â”‚ â”‚                                  â”‚
â”‚       ğŸ’¬ c02-20240121_154500.. â‹® â”‚ â”‚ [User] è«‹æŒ‰ç…§éœ€æ±‚ç·¨å¯«...        â”‚ â”‚ [æ“ä½œæŒ‰éˆ•]                        â”‚
â”‚                                â”‚ â”‚                                â”‚ â”‚ âœï¸ Edit  â¬‡ï¸ Download  ğŸ“¤ Share    â”‚
â”‚     â–¼ s1-implementation ğŸƒ â‹®     â”‚ â”‚ [AI] æˆ‘å·²åˆ†æå®Œéœ€æ±‚...           â”‚ â”‚                                  â”‚
â”‚       [+ æ–°èŠå¤©]                 â”‚ â”‚                                â”‚ â”‚ [é è¦½/ç·¨è¼¯å€åŸŸ]                    â”‚
â”‚       ğŸ’¬ c01-20240121_153000.. â‹® â”‚ â”‚ [User] é€™éƒ¨åˆ†éœ€è¦èª¿æ•´...        â”‚ â”‚ def create_navbar():             â”‚
â”‚       ğŸ’¬ c02-20240121_154500.. â‹® â”‚ â”‚                                â”‚ â”‚     # Navbar implementation      â”‚
â”‚       ğŸ“„ navbar.v1.py â‹®         â”‚ â”‚ [AI] æ ¹æ“šåé¥‹ï¼Œæˆ‘å»ºè­°...         â”‚ â”‚     ...                         â”‚
â”‚       ğŸ“„ navbar.v2.py â‹®         â”‚ â”‚                                â”‚ â”‚                                  â”‚
â”‚       ğŸ“„ api-spec.md â‹®          â”‚ â”‚ ğŸ‘¤ Alice æ­£åœ¨ç·¨è¼¯...             â”‚ â”‚                                  â”‚
â”‚                                â”‚ â”‚ ğŸ‘¤ Bob æ­£åœ¨æŸ¥çœ‹...              â”‚ â”‚                                  â”‚
â”‚     â–¼ task_history â‹®           â”‚ â”‚                                â”‚ â”‚                                  â”‚
â”‚       [+ æ–°èŠå¤©]                â”‚ â”‚                                â”‚ â”‚                                  â”‚
â”‚       ğŸ“„ task.20240121_1530.. â‹® â”‚ â”‚                                â”‚ â”‚                                  â”‚
â”‚       ğŸ“„ task.20240121_1545.. â‹® â”‚ â”‚                                â”‚ â”‚                                  â”‚
â”‚                                â”‚ â”‚--------------------------------â”‚ â”‚                                  â”‚
â”‚     ğŸ“„ task.json â‹®             â”‚ â”‚ [è¼¸å…¥å€]                       â”‚ â”‚                                  â”‚
â”‚                                â”‚ â”‚ â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®    â”‚ â”‚                                  â”‚
â”‚   â–º t20-feature_xyz âœ“ â‹®        â”‚ â”‚ â”‚Write a message...       â”‚    â”‚ â”‚                                  â”‚
â”‚   â–º t19-bug_fix âœ“ â‹®            â”‚ â”‚ â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯    â”‚ â”‚                                  â”‚
â”‚                                â”‚ â”‚ [ğŸ“é™„ä»¶] [ğŸ¨æ’å…¥] [ç™¼é€ â¤]       â”‚ â”‚                                  â”‚
â”‚                                â”‚ â”‚                                â”‚ â”‚                                  â”‚
â”‚ [è¦–åœ–åˆ‡æ›]                      â”‚ â”‚                                â”‚ â”‚                                  â”‚
â”‚ ğŸ“ EXPLORER                    â”‚ â”‚                                â”‚ â”‚                                  â”‚
â”‚ ğŸ” SEARCH                      â”‚ â”‚                                â”‚ â”‚                                  â”‚
â”‚ âš™ï¸ SETTINGS                    â”‚ â”‚                                â”‚ â”‚                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

_è¨»: â‹® è¡¨ç¤º options buttonï¼Œåªåœ¨é¼ æ¨™æ‡¸åœæ™‚é¡¯ç¤ºï¼Œç§»é–‹å¾Œæ¶ˆå¤±_

### å®Œæ•´ç‰ˆå·¥ä½œå€å°æ‡‰çš„ React çµ„ä»¶

#### æ•´é«”ä½ˆå±€

- `WorkspaceThreeColumnLayout` - ä¸‰æ¬„å·¥ä½œå€ä¸»ä½ˆå±€

#### å·¦å´é¢æ¿ (Explorer)

- `ExplorerPanel` - å·¦å´è³‡æºç®¡ç†å™¨é¢æ¿
  - `ExplorerHeader` - é ‚éƒ¨å°èˆª (ğŸ )
  - `WorkspaceTreeView` - å·¥ä½œå€ä»»å‹™æ¨¹çµæ§‹
    - `TaskTreeNode` - ä»»å‹™ç¯€é» (t21-hello_world)
      - `TaskStatusBadge` - ä»»å‹™ç‹€æ…‹æ¨™è¨˜ (ğŸƒ, âœ“)
      - `TaskOptionsButton` - ä»»å‹™é¸é …æŒ‰éˆ• (â‹®)
    - `SubtaskTreeNode` - å­ä»»å‹™ç¯€é» (s0-planning, s1-implementation)
      - `SubtaskStatusBadge` - å­ä»»å‹™ç‹€æ…‹æ¨™è¨˜ (âœ“, ğŸƒ)
      - `SubtaskOptionsButton` - å­ä»»å‹™é¸é …æŒ‰éˆ• (â‹®)
    - `FileTreeNode` - æ–‡ä»¶ç¯€é»
      - `ChatFileNode` - èŠå¤©æ–‡ä»¶ç¯€é» (ğŸ’¬)
      - `DocumentFileNode` - æ–‡æª”æ–‡ä»¶ç¯€é» (ğŸ“„)
      - `FileOptionsButton` - æ–‡ä»¶é¸é …æŒ‰éˆ• (â‹®)
    - `NewChatButton` - æ–°å»ºèŠå¤©æŒ‰éˆ• ([+ æ–°èŠå¤©])
  - `ExplorerViewSwitch` - è³‡æºç®¡ç†å™¨è¦–åœ–åˆ‡æ›å™¨
    - `ExplorerViewButton` - è¦–åœ–åˆ‡æ›æŒ‰éˆ• (ğŸ“ EXPLORER, ğŸ” SEARCH, âš™ï¸ SETTINGS)

#### ä¸­é–“é¢æ¿ (Chat)

- `ChatPanel` - èŠå¤©é¢æ¿
  - `ChatNavigationHeader` - èŠå¤©å°èˆªé ‚éƒ¨
    - `NavigationBreadcrumb` - å°èˆªéºµåŒ…å±‘ (ğŸ  Home > ğŸ‘¥ Workspace > ...)
  - `ChatMessagesView` - èŠå¤©æ¶ˆæ¯åˆ—è¡¨
    - `UserChatMessage` - ç”¨æˆ¶èŠå¤©æ¶ˆæ¯ ([User] è«‹æŒ‰ç…§éœ€æ±‚ç·¨å¯«...)
    - `AssistantChatMessage` - AI åŠ©æ‰‹èŠå¤©æ¶ˆæ¯ ([AI] æˆ‘å·²åˆ†æå®Œéœ€æ±‚...)
  - `UserPresenceBanner` - ç”¨æˆ¶åœ¨ç·šç‹€æ…‹æ©«å¹…
    - `UserPresenceIndicator` - ç”¨æˆ¶åœ¨ç·šç‹€æ…‹æŒ‡ç¤ºå™¨ (ğŸ‘¤ Alice æ­£åœ¨ç·¨è¼¯...)
  - `ChatInputContainer` - èŠå¤©è¼¸å…¥å€åŸŸ
    - `ChatMessageInput` - èŠå¤©è¼¸å…¥æ¡† (Write a message...)
    - `FileAttachmentButton` - æ–‡ä»¶é™„ä»¶æŒ‰éˆ• (ğŸ“)
    - `InsertContentButton` - æ’å…¥å…§å®¹æŒ‰éˆ• (ğŸ¨)
    - `ChatSendButton` - ç™¼é€èŠå¤©æŒ‰éˆ• (â¤)

#### å³å´é¢æ¿ (Preview)

- `PreviewPanel` - å…§å®¹é è¦½é¢æ¿
  - `PreviewNavigationHeader` - é è¦½å°èˆªé ‚éƒ¨
    - `NavigationBreadcrumb` - å°èˆªéºµåŒ…å±‘ (ğŸ  Home > ğŸ‘¥ Workspace > ...)
  - `PreviewActionToolbar` - é è¦½æ“ä½œå·¥å…·æ¬„
    - `EditButton` - ç·¨è¼¯æŒ‰éˆ• (âœï¸)
    - `DownloadButton` - ä¸‹è¼‰æŒ‰éˆ• (â¬‡ï¸)
    - `ShareButton` - åˆ†äº«æŒ‰éˆ• (ğŸ“¤)
  - `FileContentView` - æ–‡ä»¶å…§å®¹è¦–åœ–
    - `CodeFileView` - ä»£ç¢¼æ–‡ä»¶é è¦½ (def create_navbar():...)

## æ–°èŠå¤©/æ–°ä»»å‹™ Prompt Input Modal

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Prompt Input Modal â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                        â”‚
â”‚ âœï¸ æ–°èŠå¤© / æ–°ä»»å‹™                      â”‚
â”‚                                        â”‚
â”‚ â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•® â”‚
â”‚ â”‚è«‹è¼¸å…¥æç¤ºè©...                      â”‚ â”‚
â”‚ â”‚                                    â”‚ â”‚
â”‚ â”‚                                    â”‚ â”‚
â”‚ â”‚                                    â”‚ â”‚
â”‚ â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯ â”‚
â”‚                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Prompt Input Modal å°æ‡‰çš„ React çµ„ä»¶

- `PromptInputModal` - æç¤ºè©è¼¸å…¥æ¨¡æ…‹æ¡†
  - `ModalHeader` - æ¨¡æ…‹æ¡†æ¨™é¡Œ (âœï¸ æ–°èŠå¤© / æ–°ä»»å‹™)
  - `PromptTextarea` - æç¤ºè©æ–‡æœ¬è¼¸å…¥å€ (è«‹è¼¸å…¥æç¤ºè©...)

## MVP ç°¡åŒ–ç‰ˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€ Explorer (280px) â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€ Chat/Preview (å½ˆæ€§) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ                                â”‚ â”‚                                                                  â”‚
â”‚                                 â”‚ â”‚ ğŸ  Home > ğŸ‘¥ Workspace > t21-hello_world > s2-development        â”‚
â”‚ [+ æ–°ä»»å‹™]                       â”‚ â”‚ > c01-20240121_153000.chat.json                                  â”‚
â”‚                                 â”‚ â”‚                                                                  â”‚
â”‚ â–¼ workspace                     â”‚ â”‚ [å…§å®¹å€åŸŸ]                                                       â”‚
â”‚   â–¼ t21-hello_world ğŸƒ â¸ï¸ â‹®       â”‚ â”‚ # èŠå¤©æª”æ¡ˆæ™‚ï¼š                                                   â”‚
â”‚     [+ æ–°èŠå¤©]                   â”‚ â”‚ [User] è«‹æŒ‰ç…§éœ€æ±‚ç·¨å¯«...                                         â”‚
â”‚     â–¼ s1-planning âœ“ â–¶ï¸ â‹®         â”‚ â”‚                                                                  â”‚
â”‚       [+ æ–°èŠå¤©]                 â”‚ â”‚ [AI] æˆ‘å·²åˆ†æå®Œéœ€æ±‚...                                           â”‚
â”‚       ğŸ’¬ c01-20240121_153000.. â‹® â”‚ â”‚                                                                  â”‚
â”‚       ğŸ’¬[x] c02-20240121_154500.. â‹® â”‚ â”‚ [User] é€™éƒ¨åˆ†éœ€è¦èª¿æ•´...                                         â”‚
â”‚                                â”‚ â”‚                                                                  â”‚
â”‚     â–¼ s2-development ğŸ”´ ğŸ” â‹®     â”‚ â”‚ [AI] æ ¹æ“šåé¥‹ï¼Œæˆ‘å»ºè­°...                                         â”‚
â”‚       [+ æ–°èŠå¤©]                â”‚ â”‚                                                                  â”‚
â”‚       ğŸ’¬ c01-20240121_153000.. â‹® â”‚ â”‚                                                                  â”‚
â”‚       ğŸ“„ navbar.v1.py â‹®         â”‚ â”‚                                                                  â”‚
â”‚       ğŸ“„ navbar.v2.py â‹®         â”‚ â”‚                                                                  â”‚
â”‚       ğŸ“„ api-spec.md â‹®          â”‚ â”‚                                                                  â”‚
â”‚                                â”‚ â”‚                                                                  â”‚
â”‚     â–¼ s3-testing âš ï¸ â‹®           â”‚ â”‚                                                                  â”‚
â”‚       [+ æ–°èŠå¤©]                â”‚ â”‚                                                                  â”‚
â”‚       (ç„¡æª”æ¡ˆ)                  â”‚ â”‚ # ä¸€èˆ¬æª”æ¡ˆæ™‚ï¼š                                                   â”‚
â”‚                                â”‚ â”‚ [æª”æ¡ˆå…§å®¹é è¦½/ç·¨è¼¯]                                              â”‚
â”‚     â–¼ s4-deployment ğŸ“ â–¶ï¸ â‹®     â”‚ â”‚                                                                  â”‚
â”‚       [+ æ–°èŠå¤©]                â”‚ â”‚                                                                  â”‚
â”‚       (ç„¡æª”æ¡ˆ)                  â”‚ â”‚                                                                  â”‚
â”‚                                â”‚ â”‚--------------------------------                                  â”‚
â”‚     ğŸ“„ task.json â‹®             â”‚ â”‚ â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®                                     â”‚
â”‚                                â”‚ â”‚ â”‚Write a message...       â”‚                                     â”‚
â”‚   â–º t20-feature_xyz âœ“ â–¶ï¸ â‹®      â”‚ â”‚ â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯                                     â”‚
â”‚   â–º t19-bug_fix âœ“ â–¶ï¸ â‹®          â”‚ â”‚ [ğŸ“é™„ä»¶] [ç™¼é€ â¤]                                               â”‚
â”‚                                â”‚ â”‚                                                                  â”‚
â”‚ âš™ï¸ SETTINGS                    â”‚ â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

_è¨»: â‹® è¡¨ç¤º options buttonï¼Œåªåœ¨é¼ æ¨™æ‡¸åœæ™‚é¡¯ç¤ºï¼Œç§»é–‹å¾Œæ¶ˆå¤±_

### MVP ç°¡åŒ–ç‰ˆå°æ‡‰çš„ React çµ„ä»¶

#### æ•´é«”ä½ˆå±€

- `WorkspaceTwoColumnLayout` - é›™æ¬„å·¥ä½œå€ä½ˆå±€

#### å·¦å´é¢æ¿ (Explorer)

- `ExplorerPanel` - å·¦å´è³‡æºç®¡ç†å™¨é¢æ¿
  - `ExplorerHeader` - é ‚éƒ¨å°èˆª (ğŸ )
  - `NewTaskButton` - æ–°å»ºä»»å‹™æŒ‰éˆ• ([+ æ–°ä»»å‹™])
  - `WorkspaceTreeView` - å·¥ä½œå€ä»»å‹™æ¨¹çµæ§‹
    - `TaskTreeNode` - ä»»å‹™ç¯€é» (t21-hello_world)
      - `TaskStatusBadge` - ä»»å‹™ç‹€æ…‹æ¨™è¨˜ (ğŸƒ, âœ“)
      - `TaskActionButton` - ä»»å‹™å‹•ä½œæŒ‰éˆ• (â¸ï¸)
      - `TaskOptionsButton` - ä»»å‹™é¸é …æŒ‰éˆ• (â‹®)
    - `SubtaskTreeNode` - å­ä»»å‹™ç¯€é» (s1-planning, s2-development, s3-testing, s4-deployment)
      - `SubtaskStatusBadge` - å­ä»»å‹™ç‹€æ…‹æ¨™è¨˜ (âœ“, ğŸ”´, âš ï¸, ğŸ“)
      - `SubtaskActionButton` - å­ä»»å‹™å‹•ä½œæŒ‰éˆ• (â–¶ï¸, ğŸ”)
      - `SubtaskOptionsButton` - å­ä»»å‹™é¸é …æŒ‰éˆ• (â‹®)
    - `FileTreeNode` - æ–‡ä»¶ç¯€é»
      - `ChatFileNode` - èŠå¤©æ–‡ä»¶ç¯€é» (ğŸ’¬)
      - `DocumentFileNode` - æ–‡æª”æ–‡ä»¶ç¯€é» (ğŸ“„)
      - `FileOptionsButton` - æ–‡ä»¶é¸é …æŒ‰éˆ• (â‹®)
    - `NewChatButton` - æ–°å»ºèŠå¤©æŒ‰éˆ• ([+ æ–°èŠå¤©])
  - `ExplorerViewButton` - è¨­ç½®æŒ‰éˆ• (âš™ï¸ SETTINGS)

#### å³å´é¢æ¿ (Chat/Preview)

- `ChatPreviewPanel` - èŠå¤©èˆ‡é è¦½çµ„åˆé¢æ¿
  - `CombinedNavigationHeader` - çµ„åˆé¢æ¿å°èˆªé ‚éƒ¨
    - `NavigationBreadcrumb` - å°èˆªéºµåŒ…å±‘ (ğŸ  Home > ğŸ‘¥ Workspace > ...)
  - `ContentSwitchView` - å…§å®¹åˆ‡æ›è¦–åœ–
    - `ChatMessagesView` - èŠå¤©æ¶ˆæ¯è¦–åœ–
      - `UserChatMessage` - ç”¨æˆ¶èŠå¤©æ¶ˆæ¯ ([User] è«‹æŒ‰ç…§éœ€æ±‚ç·¨å¯«...)
      - `AssistantChatMessage` - AI åŠ©æ‰‹èŠå¤©æ¶ˆæ¯ ([AI] æˆ‘å·²åˆ†æå®Œéœ€æ±‚...)
    - `FileContentView` - æ–‡ä»¶å…§å®¹è¦–åœ–
      - `CodeFileView` - ä»£ç¢¼æ–‡ä»¶é è¦½/ç·¨è¼¯
      - `MarkdownFileView` - Markdown æ–‡ä»¶é è¦½
  - `ChatInputContainer` - èŠå¤©è¼¸å…¥å€åŸŸ
    - `ChatMessageInput` - èŠå¤©è¼¸å…¥æ¡† (Write a message...)
    - `FileAttachmentButton` - æ–‡ä»¶é™„ä»¶æŒ‰éˆ• (ğŸ“)
    - `ChatSendButton` - ç™¼é€èŠå¤©æŒ‰éˆ• (â¤)
